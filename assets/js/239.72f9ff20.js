(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{605:function(i,t,n){"use strict";n.r(t);var e=n(14),a=Object(e.a)({},function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":i.$parent.slotKey}},[n("h1",{attrs:{id:"titanium-android-notification"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#titanium-android-notification","aria-hidden":"true"}},[i._v("#")]),i._v(" Titanium.Android.Notification")]),i._v(" "),n("ProxySummary"),i._v(" "),n("h2",{attrs:{id:"overview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[i._v("#")]),i._v(" Overview")]),i._v(" "),n("p",[i._v("Notifications alert the user that something is happening to your application while it is\nin the background. Notifications appear in the notification drawer until the user\nclears them and on the lock screen for devices running Android 5.0 or greater.\nNote that the user can filter or turn notifications on and off from "),n("strong",[i._v("Settings")]),i._v(".")]),i._v(" "),n("p",[i._v("For Android toast notifications (pop-up notifications sent while the application is in the\nforeground), see "),n("type-link",{attrs:{type:"Titanium.UI.Notification"}},[i._v("Titanium.UI.Notification")]),i._v(".")],1),i._v(" "),n("p",[i._v("To create a notification, use the "),n("type-link",{attrs:{type:"Titanium.Android.createNotification"}},[i._v("Titanium.Android.createNotification")]),i._v(" method.")],1),i._v(" "),n("p",[i._v("Pass the Notification object to the methods of the "),n("type-link",{attrs:{type:"Titanium.Android.NotificationManager"}},[i._v("Titanium.Android.NotificationManager")]),i._v(" class\nto send or cancel notifications.")],1),i._v(" "),n("p",[i._v("For examples of using Notifications, see "),n("a",{attrs:{href:"#!/guide/Android_Notifications"}},[i._v("Android Notifications")]),i._v(".")]),i._v(" "),n("p",[i._v("Further Reading:")]),i._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.android.com/design/patterns/notifications.html",target:"_blank",rel:"noopener noreferrer"}},[i._v("Android Developers: Notifications"),n("OutboundLink")],1)])]),i._v(" "),n("h3",{attrs:{id:"android-5-0-changes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#android-5-0-changes","aria-hidden":"true"}},[i._v("#")]),i._v(" Android 5.0 Changes")]),i._v(" "),n("p",[i._v("Starting with Android 5.0 (API 21), ticker text, defined with the "),n("code",[i._v("tickerText")]),i._v(" property,\nno longer appears in the status bar when the notification is first sent but is used as an\naudible notification if accessibility services are enabled.")]),i._v(" "),n("p",[i._v("Notifications now appear in the lock screen.  The user can customize the visibility level of\nthese notifications from "),n("strong",[i._v("Settings")]),i._v(".  The visibility level is based on the "),n("code",[i._v("visibility")]),i._v("\nproperty set on the notification.")]),i._v(" "),n("h2",{attrs:{id:"examples"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[i._v("#")]),i._v(" Examples")]),i._v(" "),n("h3",{attrs:{id:"simple-notification-example"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#simple-notification-example","aria-hidden":"true"}},[i._v("#")]),i._v(" Simple Notification Example")]),i._v(" "),n("p",[i._v("The following example shows how to create a notification that launches the\napplication when the user clicks on the notification.")]),i._v(" "),n("p",[i._v("To have the notification launch an application when the user clicks on it,\nassign the "),n("code",[i._v("contentIntent")]),i._v(" property to an "),n("type-link",{attrs:{type:"Titanium.Android.Intent"}},[i._v("Intent")]),i._v(" object\nthat launches the main activity of the application by specifying the "),n("code",[i._v("packageName")]),i._v("\nand "),n("code",[i._v("className")]),i._v(" properties of the intent.")],1),i._v(" "),n("p",[i._v("The "),n("code",[i._v("packageName")]),i._v(" is the project's application ID. For Titanium applications, you\ncan find this in the "),n("code",[i._v("tiapp.xml")]),i._v(" file.")]),i._v(" "),n("p",[i._v("The "),n("code",[i._v("className")]),i._v(" is the name of the main activity, prefixed with the "),n("code",[i._v("packageName")]),i._v(".\nFor Titanium applications, the name of the main activity is the application name with\nonly the first character capitalized suffixed with "),n("code",[i._v("Activity")]),i._v(".  You can also find the name\nof the main activity in the "),n("code",[i._v("build/android/AndroidManifest.xml")]),i._v(" file after you build your\napplication.")]),i._v(" "),n("p",[i._v("For example, if the application ID is "),n("code",[i._v("com.appcelerator.notificationsample")]),i._v(" and the\napplication name is "),n("code",[i._v("NotificationSample")]),i._v(", the class name will be:")]),i._v(" "),n("pre",[n("code",[i._v("com.appcelerator.notificationsample.NotificationsampleActivity\n")])]),i._v(" "),n("p",[i._v("The notification icon must be specified as an Android resource ID. In this case,\nthe icon, "),n("code",[i._v("my_icon.png")]),i._v(" would be placed in "),n("code",[i._v("platforms/android/res/drawable/my_icon.png")]),i._v(".\nSee "),n("type-link",{attrs:{type:"Titanium.App.Android.R"}},[i._v("Titanium.App.Android.R")]),i._v(" for more information.")],1),i._v(" "),n("p",[i._v("This example does not include a custom alert sound. For information on adding a\ncustom alert sound, see "),n("type-link",{attrs:{type:"Titanium.Android.Notification.sound"}},[i._v("Notification.sound")]),i._v(".")],1),i._v(" "),n("pre",[n("code",[i._v("// Intent object to launch the application\nvar intent = Ti.Android.createIntent({\n    action: Ti.Android.ACTION_MAIN,\n    // Substitute the correct class name for your application\n    className: 'com.appcelerator.notificationsample.NotificationsampleActivity',\n    // Substitue the correct package name for your application\n    packageName: 'com.appcelerator.notificationsample'\n});\nintent.flags |= Ti.Android.FLAG_ACTIVITY_CLEAR_TOP | Ti.Android.FLAG_ACTIVITY_NEW_TASK;\nintent.addCategory(Ti.Android.CATEGORY_LAUNCHER);\n\n// Create a PendingIntent to tie together the Activity and Intent\nvar pending = Titanium.Android.createPendingIntent({\n    intent: intent,\n    flags: Titanium.Android.FLAG_UPDATE_CURRENT\n});\n\n// Create the notification\nvar notification = Titanium.Android.createNotification({\n\t// icon is passed as an Android resource ID -- see Ti.App.Android.R.\n    icon: Ti.App.Android.R.drawable.my_icon,\n\tcontentTitle: 'Something Happened',\n\tcontentText : 'Click to return to the application.',\n\tcontentIntent: pending\n});\n\n// Send the notification.\nTitanium.Android.NotificationManager.notify(1, notification);\n")])]),i._v(" "),n("h3",{attrs:{id:"bundled-notifications-example"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bundled-notifications-example","aria-hidden":"true"}},[i._v("#")]),i._v(" Bundled Notifications Example")]),i._v(" "),n("p",[i._v("The following example shows how to create bundled notifications.")]),i._v(" "),n("pre",[n("code",[i._v("var id = 100,\n    groupKey = 'group_key';\n\nfor (var i = 3; i > 0; i--) {\n    Ti.Android.NotificationManager.notify(id++,\n        Ti.Android.createNotification({\n            icon: Ti.Android.R.drawable.ic_dialog_info,\n            contentTitle: 'NOTIFICATION #' + i,\n            contentText : 'Lorem ipsum dolor sit amet, facer eruditi omittantur cu pri, nibh nonumy putant eam eu.'\n            groupKey: groupKey\n        })\n    );\n}\nTi.Android.NotificationManager.notify(id++,\n    Ti.Android.createNotification({\n        icon: Ti.Android.R.drawable.ic_dialog_info,\n        contentTitle: 'NOTIFICATIONS',\n        contentText : 'You have 3 notifications.',\n        groupKey: groupKey,\n        groupSummary: true\n    })\n);\n")])]),i._v(" "),n("ApiDocs")],1)},[],!1,null,null,null);a.options.__file="notification.md";t.default=a.exports}}]);