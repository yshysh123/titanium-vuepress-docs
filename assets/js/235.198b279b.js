(window.webpackJsonp=window.webpackJsonp||[]).push([[235],{601:function(e,t,a){"use strict";a.r(t);var r=a(14),o=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"titanium-android-broadcastreceiver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#titanium-android-broadcastreceiver","aria-hidden":"true"}},[e._v("#")]),e._v(" Titanium.Android.BroadcastReceiver")]),e._v(" "),a("ProxySummary"),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("The application can use broadcast receivers to monitor system events from the Android OS\nas well as custom broadcasts sent by other applications. The application will need to know the\nname of the broadcast actions in order to monitor them. Note that Titanium only supports\nprogrammatically creating and registering broadcast receivers. Titanium does not support\ndeclaring a receiver in the Android manifest.")]),e._v(" "),a("p",[e._v("To create a Broadcast Receiver, use the "),a("type-link",{attrs:{type:"Titanium.Android.createBroadcastReceiver"}},[e._v("Titanium.Android.createBroadcastReceiver")]),e._v(" method.\nSpecify either a callback to handle the broadcast with the "),a("code",[e._v("onReceived")]),e._v(" property or a\nJavaScript file with the "),a("code",[e._v("url")]),e._v(" property.  Do not specify both.  If both properties are\nused, the "),a("code",[e._v("url")]),e._v(" property takes precedence.")],1),e._v(" "),a("p",[e._v("To start listening to a broadcast, pass the "),a("code",[e._v("BroadcastReceiver")]),e._v(" object and an array of\nbroadcast actions to listen for to the "),a("type-link",{attrs:{type:"Titanium.Android.registerBroadcastReceiver"}},[e._v("Titanium.Android.registerBroadcastReceiver")]),e._v(" method.")],1),e._v(" "),a("p",[e._v("Titanium exposes some of the system-level broadcasts as the "),a("code",[e._v("Titanium.Android.ACTION_*")]),e._v("\nconstants. Note that some of these constants are not broadcast messages.")]),e._v(" "),a("p",[e._v("You can also define a custom broadcast action.  Use a reverse domain name scheme in order to\navoid potential conflicts with other applications.")]),e._v(" "),a("p",[e._v("To stop listening to a broadcast, pass the "),a("code",[e._v("BroadcastReceiver")]),e._v(" object to the\n"),a("type-link",{attrs:{type:"Titanium.Android.unregisterBroadcastReceiver"}},[e._v("Titanium.Android.unregisterBroadcastReceiver")]),e._v(" method.")],1),e._v(" "),a("p",[e._v("To monitor a broadcast that requires a special permission, declare the "),a("strong",[a("code",[e._v("<uses-permission>")])]),e._v("\nelement in the Android manifest section of the "),a("code",[e._v("tiapp.xml")]),e._v(" file for each broadcast that uses\na special permission.  For example, to monitor the "),a("code",[e._v("NEW_OUTGOING_CALL")]),e._v(" broadcast, the\napplication needs to add the following permission:")]),e._v(" "),a("pre",[a("code",[e._v('<ti:app>\n    <android>\n        <manifest>\n            <uses-permission android:name="android.permission.NEW_OUTGOING_CALL" />\n        </manifest>\n    </android>\n</ti:app>\n')])]),e._v(" "),a("p",[e._v("Further Reading:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.appcelerator.com/platform/latest/#!/guide/Android_Broadcast_Intents_and_Receivers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Android Broadcast Intents and Receivers guide"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://developer.android.com/reference/android/content/BroadcastReceiver.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Android Developers: Broadcast Receivers"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("h3",{attrs:{id:"create-and-register-a-broadcast-receiver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-and-register-a-broadcast-receiver","aria-hidden":"true"}},[e._v("#")]),e._v(" Create and register a broadcast receiver")]),e._v(" "),a("p",[e._v("This example creates a broadcast receiver and registers it to handle the airplane mode broadcast.")]),e._v(" "),a("pre",[a("code",[e._v("var bc = Ti.Android.createBroadcastReceiver({\n    onReceived: function() {\n        Ti.API.info('Handling broadcast.');\n    }\n});\n\nTi.Android.registerBroadcastReceiver(bc, [Ti.Android.ACTION_AIRPLANE_MODE_CHANGED]);\n")])]),e._v(" "),a("ApiDocs")],1)},[],!1,null,null,null);o.options.__file="broadcastreceiver.md";t.default=o.exports}}]);