(window.webpackJsonp=window.webpackJsonp||[]).push([[363],{456:function(e,t,n){"use strict";n.r(t);var i=n(14),o=Object(i.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"titanium-ui-ios-previewcontext"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#titanium-ui-ios-previewcontext","aria-hidden":"true"}},[e._v("#")]),e._v(" Titanium.UI.iOS.PreviewContext")]),e._v(" "),n("ProxySummary"),e._v(" "),n("h2",{attrs:{id:"overview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),n("p",[e._v("The PreviewContext is created by the "),n("type-link",{attrs:{type:"Titanium.UI.iOS.createPreviewContext"}},[e._v("Titanium.UI.iOS.createPreviewContext")]),e._v(" method. You must set\nthe "),n("code",[e._v("pop")]),e._v(" and "),n("code",[e._v("preview")]),e._v(" properties when creating a "),n("code",[e._v("PreviewContext")]),e._v(" object.")],1),e._v(" "),n("p",[e._v('Use this class to configure the previewing context which is displayed while "peeking" a view.')]),e._v(" "),n("p",[e._v("Note: This feature requires iOS 9 and a 3D-Touch capable device (such as iPhone 6S or iPhone 6S Plus).\nYou cannot test 3D touch on the iOS simulator.\nTo check if the current device supports 3D touch, use the "),n("type-link",{attrs:{type:"Titanium.UI.iOS.forceTouchSupported"}},[e._v("Titanium.UI.iOS.forceTouchSupported")]),e._v("\nproperty and consider using the "),n("code",[e._v("longpress")]),e._v(" event to provide a fallback to your users on\nnon-3D-touch devices.")],1),e._v(" "),n("p",[e._v("See also:")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.apple.com/library/content/documentation/UserExperience/Conceptual/Adopting3DTouchOniPhone/3DTouchAPIs.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("iOS Developer Library: Adopting 3D Touch on iPhone"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"examples"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),n("h3",{attrs:{id:"previewcontext-example-using-a-button-as-receiver"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#previewcontext-example-using-a-button-as-receiver","aria-hidden":"true"}},[e._v("#")]),e._v(" PreviewContext example using a Button as receiver.")]),e._v(" "),n("p",[e._v("The example below creates a new preview context and assigns a "),n("code",[e._v("window")]),e._v(", "),n("code",[e._v("actions")]),e._v(" and a "),n("code",[e._v("contentHeight")]),e._v('.\nAfter that, we assign the preview context to a view which will trigger the "peeking" of it. Note, that this\nis independent from the click event of the view itself.')]),e._v(" "),n("pre",[n("code",[e._v('var actions = [];\nvar win = Ti.UI.createWindow({\n    backgroundColor: "white"\n});\n\n// The view to be previewed while popping.\nvar previewView = Ti.UI.createView({\n    backgroundColor: "blue"\n});\n\n// The window to be opened after popping the preview.\nvar detailWindow = Ti.UI.createWindow({\n    backgroundColor: "yellow"\n});\n\ndetailWindow.add(Ti.UI.createLabel({\n    text: "You made it!"\n}));\n\n// The actions to be added to the preview context.\nvar action = Ti.UI.iOS.createPreviewAction({\n    title: "Preview Action",\n    style: Ti.UI.iOS.PREVIEW_ACTION_STYLE_DEFAULT\n});\n\naction.addEventListener("click", function(e) {\n    alert("Title: " + e.title + " / Style: " + e.style+" / Index: " + e.index);\n});\n\nvar subAction = Ti.UI.iOS.createPreviewAction({\n    title: "Preview Subaction"\n})\n\nsubAction.addEventListener("click", function(e) {\n    alert("Title: " + e.title + " / Style: " + e.style+" / Subindex: " + e.index);\n});\n\nvar actionGroup = Ti.UI.iOS.createPreviewActionGroup({\n    title: "More actions...",\n    style: Ti.UI.iOS.PREVIEW_ACTION_STYLE_DESTRUCTIVE,\n    actions: [subAction]\n});\n\nactions.push(action);\nactions.push(actionGroup);\n\n// Create the preview context\nvar context = Ti.UI.iOS.createPreviewContext({\n    preview: previewView,\n    actions: actions, // Can have both Ti.UI.iOS.PreviewAction + Ti.UI.iOS.PreviewActionGroup\n\t contentHeight: 300 // When unspecified, we use the available height\n});\n\n// Fired after popping the preview\ncontext.addEventListener("pop", function(e) {\n    detailWindow.open();\n});\n\n// Assign the preview context\nvar button = Ti.UI.createButton({\n    previewContext: context, // Will be ignored on unsupported devices\n    title : "Open Window!",\n    backgroundColor: "#A6171C",\n    width: 200,\n    height: 50,\n    tintColor: "#fff"\n});\n\nwin.add(button);\nwin.open();\n')])]),e._v(" "),n("h3",{attrs:{id:"previewcontext-example-using-a-listview-as-receiver"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#previewcontext-example-using-a-listview-as-receiver","aria-hidden":"true"}},[e._v("#")]),e._v(" PreviewContext example using a ListView as receiver.")]),e._v(" "),n("p",[e._v('var actions = [];\nvar win = Ti.UI.createWindow({\nbackgroundColor: "white"\n});')]),e._v(" "),n("p",[e._v('// The view to be previewed while popping.\nvar previewView = Ti.UI.createView({\nbackgroundColor: "blue"\n});')]),e._v(" "),n("p",[e._v('// The window to be opened after popping the preview.\nvar detailWindow = Ti.UI.createWindow({\nbackgroundColor: "yellow"\n});')]),e._v(" "),n("p",[e._v('detailWindow.add(Ti.UI.createLabel({\ntext: "You made it!"\n}));')]),e._v(" "),n("p",[e._v('// The actions to be added to the preview context.\nvar action = Ti.UI.iOS.createPreviewAction({\ntitle: "Preview Action",\nstyle: Ti.UI.iOS.PREVIEW_ACTION_STYLE_DEFAULT\n});')]),e._v(" "),n("p",[e._v('action.addEventListener("click", function(e) {\nalert(\n"Title: " + e.title +\n"\\nStyle: " + e.style +\n"\\nIndex: " + e.index +\n"\\nSectionIndex: " + e.sectionIndex +\n"\\nItemIndex: " + e.itemIndex\n);\n});')]),e._v(" "),n("p",[e._v("actions.push(action);")]),e._v(" "),n("p",[e._v("// Create the preview context\nvar context = Ti.UI.iOS.createPreviewContext({\npreview: previewView,\nactions: actions, // Can have both Ti.UI.iOS.PreviewAction + Ti.UI.iOS.PreviewActionGroup\ncontentHeight: 300 // When unspecified, we use the available height\n});")]),e._v(" "),n("p",[e._v('// Fired after peeking the preview\n// Use this event to configure the preview depending on the sectionIndex / itemIndex\ncontext.addEventListener("peek", function(e) {\nTi.API.warn("sectionIndex: " + e.sectionIndex);\nTi.API.warn("itemIndex: " + e.itemIndex);\n});')]),e._v(" "),n("p",[e._v('// Fired after popping the preview\ncontext.addEventListener("pop", function(e) {\ndetailWindow.open();\n});')]),e._v(" "),n("p",[e._v("// Assign the preview context\nvar listView = Ti.UI.createListView({\npreviewContext: context, // Will be ignored on unsupported devices\n});")]),e._v(" "),n("p",[e._v('var section1 = Ti.UI.createListSection({\nheaderTitle: "Section 1"\n});')]),e._v(" "),n("p",[e._v('var section2 = Ti.UI.createListSection({\nheaderTitle: "Section 2"\n});')]),e._v(" "),n("p",[e._v("var items = [];")]),e._v(" "),n("p",[e._v('for(var i = 1; i <= 5; i++) {\nitems.push({\nproperties: {\ntitle: "Cell #" + i\n}\n});\n}')]),e._v(" "),n("p",[e._v("section1.setItems(items);\nsection2.setItems(items);\nlistView.setSections([section1, section2]);")]),e._v(" "),n("p",[e._v("win.add(listView);\nwin.open();")]),e._v(" "),n("ApiDocs")],1)},[],!1,null,null,null);o.options.__file="previewcontext.md";t.default=o.exports}}]);