(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{612:function(e,t,o){"use strict";o.r(t);var n=o(14),i=Object(n.a)({},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"titanium-network-httpclient"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#titanium-network-httpclient","aria-hidden":"true"}},[e._v("#")]),e._v(" Titanium.Network.HTTPClient")]),e._v(" "),o("ProxySummary"),e._v(" "),o("h2",{attrs:{id:"overview"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),o("p",[e._v("Use "),o("type-link",{attrs:{type:"Titanium.Network.createHTTPClient"}},[e._v("Titanium.Network.createHTTPClient")]),e._v(" to create a new "),o("code",[e._v("HTTPClient")]),e._v(" object.")],1),e._v(" "),o("p",[e._v("An "),o("code",[e._v("HTTPClient")]),e._v(" object is intended to be used for a single request. It may be\npossible to re-use an "),o("code",[e._v("HTTPClient")]),e._v(" object, but this use case is not tested.")]),e._v(" "),o("p",[e._v("There are three steps in making a typical HTTP request:")]),e._v(" "),o("ul",[o("li",[e._v("Creating an "),o("code",[e._v("HTTPClient")]),e._v(" object.")]),e._v(" "),o("li",[e._v("Opening the "),o("code",[e._v("HTTPClient")]),e._v(" object.")]),e._v(" "),o("li",[e._v("Sending the request.")])]),e._v(" "),o("p",[e._v("Before opening the request, you must define one or more callbacks to handle\nthe HTTP response, as well as errors, progress updates, and other conditions.")]),e._v(" "),o("p",[e._v("The "),o("code",[e._v("HTTPClient")]),e._v(" callbacks operate somewhat differently from other\nTitanium callbacks, in accordance with the XMLHttpRequest specification.")]),e._v(" "),o("p",[e._v("When the callbacks are invoked, the "),o("code",[e._v("this")]),e._v(" value is set to either the\noriginal "),o("code",[e._v("HTTPClient")]),e._v(" object itself, or a response object that holds all\nof the response-related properties defined for the "),o("code",[e._v("HTTPClient")]),e._v(" object. So the\ncallbacks can use code like this to access the response values:")]),e._v(" "),o("pre",[o("code",[e._v("httpResponse = this.responseText;\nstatus = this.status;\n")])]),e._v(" "),o("h3",{attrs:{id:"content-type-header"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#content-type-header","aria-hidden":"true"}},[e._v("#")]),e._v(" Content-Type Header")]),e._v(" "),o("p",[e._v("When sending a POST request with the HTTP client, the Content-Type header is set automatically\ndepending on the platform and data type sent.")]),e._v(" "),o("p",[e._v("On the Android and iOS platforms:")]),e._v(" "),o("ul",[o("li",[e._v("If you are sending a JavaScript object, the content type is set to "),o("code",[e._v("multipart/form-data")]),e._v(".")]),e._v(" "),o("li",[e._v("For all other data types on Android, the content type is set to "),o("code",[e._v("application/x-www-form-urlencoded")]),e._v(".")]),e._v(" "),o("li",[e._v("For all other data types on iOS, the content type is "),o("strong",[e._v("NOT")]),e._v(" set.")])]),e._v(" "),o("p",[e._v("Use the "),o("type-link",{attrs:{type:"Titanium.Network.HTTPClient.setRequestHeader"}},[e._v("setRequestHeader")]),e._v(" method to override the\ndefault Content-Type header.")],1),e._v(" "),o("h3",{attrs:{id:"asynchronous-vs-synchronous-http-requests"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#asynchronous-vs-synchronous-http-requests","aria-hidden":"true"}},[e._v("#")]),e._v(" Asynchronous vs. Synchronous HTTP Requests")]),e._v(" "),o("p",[e._v("By default, the "),o("code",[e._v("HTTPClient")]),e._v(" makes asynchronous requests.  Asynchronous requests do not block\nthe application and use callbacks to process responses when they are received.")]),e._v(" "),o("p",[e._v("Synchronous requests block the execution of the application until it receives a response.\nOn the iOS platform,  you can make synchronous requests by setting the optional\n"),o("code",[e._v("async")]),e._v(" parameter to "),o("code",[e._v("false")]),e._v(" when calling the "),o("type-link",{attrs:{type:"Titanium.Network.HTTPClient.open"}},[e._v("open")]),e._v(" method.")],1),e._v(" "),o("p",[e._v("The Android platform does not support synchronous requests.")]),e._v(" "),o("h3",{attrs:{id:"tls-support"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#tls-support","aria-hidden":"true"}},[e._v("#")]),e._v(" TLS Support")]),e._v(" "),o("p",[e._v("Transport Layer Security (TLS) is a protocol that ensures privacy between communicating applications\nand their users on the Internet. When a server and client communicate, TLS ensures that no third\nparty may eavesdrop or tamper with any message. TLS is the successor to the Secure Sockets Layer (SSL).")]),e._v(" "),o("p",[e._v("To communicate to servers with the TLS protocol, you need to use the same TLS version between\nthe client and server.")]),e._v(" "),o("table",{staticClass:"doc-table",attrs:{summary:"This table provides information about TLS versions."}},[o("caption",[o("b",[e._v("TLS versions by platform")])]),e._v(" "),o("tr",[o("th",[e._v("Protocol")]),o("th",[e._v("Android")]),o("th",[e._v("iOS")])]),e._v(" "),o("tr",[o("th",{attrs:{align:"left"}},[e._v("TLS 1.0")]),o("td",[e._v("1.0+")]),o("td",[e._v("1.0+")])]),e._v(" "),o("tr",[o("th",{attrs:{align:"left"}},[e._v("TLS 1.1")]),o("td",[e._v("4.1+")]),o("td",[e._v("5.0+")])]),e._v(" "),o("tr",[o("th",{attrs:{align:"left"}},[e._v("TLS 1.2")]),o("td",[e._v("4.1+")]),o("td",[e._v("5.0+")])]),e._v(" "),o("p",[e._v("In Titanium, if a connection with TLS 1.2 fails, Titanium will re-attempt the connection with\nTLS 1.1 and TLS 1.0. By default, TLS 1.2 is attempted first.")]),e._v(" "),o("p",[e._v("Use the "),o("type-link",{attrs:{type:"Titanium.Network.HTTPClient.tlsVersion"}},[e._v("Titanium.Network.HTTPClient.tlsVersion")]),e._v(" property to set the version of the TLS protocol\nif you know the version the server is running.  If you do not know, do not set this property.\nTitanium will not fallback with a lower TLS version if the "),o("code",[e._v("tlsVersion")]),e._v(" property is set.\nSetting the TLS version saves time from re-attempting connections with lower TLS versions and\nprovides added security by denying attempts to use lower TLS versions.")],1),e._v(" "),o("p",[e._v("Starting with Release 3.6.0, you can set the TLS version for the Android and iOS platforms.\nPrior to Release 3.6.0, you can only set the TLS version for iOS.")]),e._v(" "),o("h3",{attrs:{id:"android-platform-implementation-notes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#android-platform-implementation-notes","aria-hidden":"true"}},[e._v("#")]),e._v(" Android Platform Implementation Notes")]),e._v(" "),o("p",[e._v("On Android, the "),o("code",[e._v("HTTPClient")]),e._v(" uses its own cookie store which does not share cookies with the\nsystem cookie store used by "),o("type-link",{attrs:{type:"Titanium.UI.WebView"}},[e._v("Titanium.UI.WebView")]),e._v(". Developers can manage their cookies for both\ncookie stores using the methods "),o("type-link",{attrs:{type:"Titanium.Network.addHTTPCookie"}},[e._v("Titanium.Network.addHTTPCookie")]),e._v(", "),o("type-link",{attrs:{type:"Titanium.Network.addSystemCookie"}},[e._v("Titanium.Network.addSystemCookie")]),e._v(",\n"),o("type-link",{attrs:{type:"Titanium.Network.getHTTPCookies"}},[e._v("Titanium.Network.getHTTPCookies")]),e._v(", "),o("type-link",{attrs:{type:"Titanium.Network.getHTTPCookiesForDomain"}},[e._v("Titanium.Network.getHTTPCookiesForDomain")]),e._v(", "),o("type-link",{attrs:{type:"Titanium.Network.getSystemCookies"}},[e._v("Titanium.Network.getSystemCookies")]),e._v(",\n"),o("type-link",{attrs:{type:"Titanium.Network.removeHTTPCookie"}},[e._v("Titanium.Network.removeHTTPCookie")]),e._v(", "),o("type-link",{attrs:{type:"Titanium.Network.removeHTTPCookiesForDomain"}},[e._v("Titanium.Network.removeHTTPCookiesForDomain")]),e._v(", "),o("type-link",{attrs:{type:"Titanium.Network.removeAllHTTPCookies"}},[e._v("Titanium.Network.removeAllHTTPCookies")]),e._v(",\n"),o("type-link",{attrs:{type:"Titanium.Network.removeSystemCookie"}},[e._v("Titanium.Network.removeSystemCookie")]),e._v(", "),o("type-link",{attrs:{type:"Titanium.Network.removeAllSystemCookies"}},[e._v("Titanium.Network.removeAllSystemCookies")]),e._v(".")],1),e._v(" "),o("h2",{attrs:{id:"examples"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),o("h3",{attrs:{id:"simple-get-request"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#simple-get-request","aria-hidden":"true"}},[e._v("#")]),e._v(" Simple GET Request")]),e._v(" "),o("p",[e._v("The following code excerpt does a simple GET request and logs the response text.")]),e._v(" "),o("pre",[o("code",[e._v(' var url = "http://www.appcelerator.com";\n var client = Ti.Network.createHTTPClient({\n     // function called when the response data is available\n     onload : function(e) {\n         Ti.API.info("Received text: " + this.responseText);\n         alert(\'success\');\n     },\n     // function called when an error occurs, including a timeout\n     onerror : function(e) {\n         Ti.API.debug(e.error);\n         alert(\'error\');\n     },\n     timeout : 5000  // in milliseconds\n });\n // Prepare the connection.\n client.open("GET", url);\n // Send the request.\n client.send();\n')])]),e._v(" "),o("ApiDocs")],1)],1)},[],!1,null,null,null);i.options.__file="httpclient.md";t.default=i.exports}}]);