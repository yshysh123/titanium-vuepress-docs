(window.webpackJsonp=window.webpackJsonp||[]).push([[305],{621:function(e,t,i){"use strict";i.r(t);var n=i(14),o=Object(n.a)({},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"titanium-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#titanium-network","aria-hidden":"true"}},[e._v("#")]),e._v(" Titanium.Network")]),e._v(" "),i("ProxySummary"),e._v(" "),i("h2",{attrs:{id:"overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),i("p",[e._v("The "),i("code",[e._v("Network")]),e._v(" module is used to access networking related functionality.")]),e._v(" "),i("p",[e._v("For TCP sockets, see "),i("type-link",{attrs:{type:"Titanium.Network.Socket.TCP"}},[e._v("Titanium.Network.Socket.TCP")]),e._v(".")],1),e._v(" "),i("p",[e._v("The legacy "),i("type-link",{attrs:{type:"Titanium.Network.TCPSocket"}},[e._v("Titanium.Network.TCPSocket")]),e._v(" object is still required\nby the "),i("type-link",{attrs:{type:"Titanium.Network.BonjourBrowser"}},[e._v("BonjourBrowser")]),e._v(" and\n"),i("type-link",{attrs:{type:"Titanium.Network.BonjourService"}},[e._v("BonjourService")]),e._v(" objects.")],1),e._v(" "),i("p",[e._v("For all other socket needs, use "),i("type-link",{attrs:{type:"Titanium.Network.Socket.TCP"}},[e._v("Titanium.Network.Socket.TCP")]),e._v(".")],1),e._v(" "),i("h3",{attrs:{id:"app-transport-security"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#app-transport-security","aria-hidden":"true"}},[e._v("#")]),e._v(" App Transport Security")]),e._v(" "),i("p",[e._v("Starting with iOS 9, Apple introduced new security and compatibility guidelines for networking\nand connectivity, which include:")]),e._v(" "),i("ul",[i("li",[e._v("All connections must support TLS 1.2 or greater, and use forward secrecy ciphers supported by iOS")]),e._v(" "),i("li",[e._v("Certificates must use at least a SHA-256 fingerprint with either a 2048-bit or greater RSA key,\nor a 256-bit or greater ECC key")]),e._v(" "),i("li",[e._v("Application must be compatible with IPv6 DNS64/NAT64 networks as part of App Store submissions")])]),e._v(" "),i("p",[e._v("Because of the new requirements, Titanium disables the App Transport Security (ATS)\nrequirements, which only includes the TLS and certificate cipher requirements,\nto allow all connections by default.")]),e._v(" "),i("p",[e._v("If you wish to re-enable ATS, add the "),i("code",[e._v("NSAppTransportSecurity")]),e._v(" dict to the "),i("code",[e._v("ios plist")]),e._v(" section\nof the "),i("code",[e._v("tiapp.xml")]),e._v(" file, then add the "),i("code",[e._v("NSAllowArbitraryLoads")]),e._v(" key and set it to "),i("code",[e._v("false")]),e._v(", indicating\nthat you want to manage your whitelisted URL's yourself.")]),e._v(" "),i("pre",[i("code",[e._v("<ti:app>\n  ...\n  <ios>\n    <plist>\n      <dict>\n        <key>NSAppTransportSecurity</key>\n        <dict>\n          <key>NSAllowsArbitraryLoads</key>\n          <false/>\n        </dict>\n      </dict>\n    </plist>\n  </ios>\n  ...\n</ti:app>\n")])]),e._v(" "),i("p",[e._v("Note that Titanium will inject code into the plist file to whitelist "),i("code",[e._v("appcelerator.com")]),e._v(" subdomains,\nwhich is needed to communicate with the Appcelerator Anayltics server. To disable the whitelist,\nset the "),i("code",[e._v("ios.whitelist.appcelerator.com")]),e._v(" tiapp application property to false.")]),e._v(" "),i("pre",[i("code",[e._v('<ti:app>\n    <property name="ios.whitelist.appcelerator.com" type="bool">false</property>\n</ti:app>\n')])]),e._v(" "),i("p",[e._v("Listed below are other guidelines from Apple.")]),e._v(" "),i("p",[i("strong",[e._v("Avoid hard-coded IPv4 address literals")])]),e._v(" "),i("p",[e._v("Try not to include hard-coded IPv4 address literals in your application, for example, 127.0.0.1.")]),e._v(" "),i("p",[i("strong",[e._v("Whitelist URLs")])]),e._v(" "),i("p",[e._v("If ATS is enabled and the web service you are trying to contact does not support the new security guidelines,\niOS will not allow you to connect to the service. An error will be returned in the network response\nstating the connection failed because it did not meet the ATS policy standards.")]),e._v(" "),i("p",[e._v("To allow the connection, you will need to add\na "),i("code",[e._v("NSAppTransportSecurity")]),e._v(" dict to the "),i("code",[e._v("ios plist")]),e._v(" section of the "),i("code",[e._v("tiapp.xml")]),e._v(" file.\nIn the "),i("code",[e._v("NSAppTransportSecurity")]),e._v(" dict, you add the "),i("code",[e._v("NSExceptionDomains")]),e._v(" dict to whitelist\nspecific domains.")]),e._v(" "),i("p",[e._v("For more information, see\n"),i("a",{attrs:{href:"https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33",target:"_blank",rel:"noopener noreferrer"}},[e._v("iOS Developer Library: App Transport Security"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("p",[e._v("Example:")]),e._v(" "),i("pre",[i("code",[e._v("<ti:app>\n  ...\n  <ios>\n    <plist>\n      <dict>\n        <key>NSAppTransportSecurity</key>\n        <dict>\n          \x3c!-- 1) Default: Disable ATS completely --\x3e\n          <key>NSAllowsArbitraryLoads</key>\n          <true/>\n\n          <-- 2) Alternative: Define whitelisted domains --\x3e\n          <key>NSExceptionDomains</key>\n          <dict>\n            \x3c!-- Loosen security measure for www.foo.com domain --\x3e\n            <key>www.foo.com</key>\n            <dict>\n              \x3c!-- Set TLS v1.0 as the minimum TLS version --\x3e\n              <key>NSExceptionMinimumTLSVersion</key>\n              <string>TLSv1.0</string>\n              \x3c!-- Can use other ciphers besides forward secrecy ciphers --\x3e\n              <key>NSExceptionRequiresForwardSecrecy</key>\n              <false/>\n              \x3c!-- Allow HTTP connections --\x3e\n              <key>NSExceptionAllowsInsecureHTTPLoads</key>\n              <true/>\n            </dict>\n          </dict>\n        </dict>\n      </dict>\n    </plist>\n  </ios>\n  ...\n</ti:app>\n")])]),e._v(" "),i("p",[i("strong",[e._v("Test IPV6 DNS64/NAT64")])]),e._v(" "),i("p",[e._v("If you submit your application to the iTunes Store, you should setup an IPv6 DNS64/NAT64\nnetwork to test your application to verify it is compatible with IPv6.")]),e._v(" "),i("p",[e._v("If you are running macOS 10.11 or greater, you can use your computer to setup a local IPv6 Wi-Fi\nnetwork, which requires an Internet connection not through Wi-Fi.")]),e._v(" "),i("p",[e._v("To create the network, from System Preferences, enable Internet sharing with NAT64 network\nenabled to share your Wi-Fi connection.")]),e._v(" "),i("p",[e._v("For detailed instructions, see\n"),i("a",{attrs:{href:"https://developer.apple.com/library/content/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW16",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mac Developer Library: Test for IPv6 DNS64/NAT64 Compatibility"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("ApiDocs")],1)},[],!1,null,null,null);o.options.__file="network.md";t.default=o.exports}}]);