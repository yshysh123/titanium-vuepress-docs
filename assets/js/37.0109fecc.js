(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{308:function(e,n,r){"use strict";r.r(n);var a=r(14),t=Object(a.a)({},function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"modules-cloud-geofences"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#modules-cloud-geofences","aria-hidden":"true"}},[e._v("#")]),e._v(" Modules.Cloud.GeoFences")]),e._v(" "),r("ProxySummary"),e._v(" "),r("h2",{attrs:{id:"overview"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),r("p",[e._v("This feature is only available for "),r("strong",[e._v("enterprise users")]),e._v(", and the current user must be an "),r("strong",[e._v("application\nadmin")]),e._v(" to create, update or remove geo-fence objects.")]),e._v(" "),r("p",[e._v("The ArrowDB GeoFences API lets you manage geographic regions with an associated JSON data payload.\nUse this API to have the device query the ArrowDB server to retrieve data based on a location.")]),e._v(" "),r("h2",{attrs:{id:"examples"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),r("h3",{attrs:{id:"create-a-geo-fence-object"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-a-geo-fence-object","aria-hidden":"true"}},[e._v("#")]),e._v(" Create a geo-fence object")]),e._v(" "),r("p",[e._v("This example creates a new geo-fence object covering a 10 mile radius around San Francisco,\nCA, USA, and checks the response.")]),e._v(" "),r("pre",[r("code",[e._v('  Cloud.GeoFences.create({\n      geo_fence: {\n          "loc":{"coordinates":[-122.4167,37.7833], "radius":"10/3959"},\n          "payload":{"alert":"24-hour sale at our SF flagship store on 12/26!"},\n          "start_time": "2014-12-25T00:00",\n          "end_time":"2014-12-26T19:00"\n      }\n  }, function (e) {\n      if (e.success) {\n          Ti.API.info(JSON.stringify(e.geo_fences));\n      } else {\n          alert(\'Error:\\n\' +\n              ((e.error && e.message) || JSON.stringify(e)));\n      }\n  });\n')])]),e._v(" "),r("h3",{attrs:{id:"query-for-geo-fence-objects"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#query-for-geo-fence-objects","aria-hidden":"true"}},[e._v("#")]),e._v(" Query for geo-fence objects")]),e._v(" "),r("p",[e._v("This example searches for geo-fence objects within 2 km of Oakland, CA, USA, and checks the response.")]),e._v(" "),r("pre",[r("code",[e._v('  Cloud.GeoFences.query({\n      where:{\n          "loc": { \n              "$nearSphere" : { \n                  "$geometry" : { "type" : "Point", "coordinates" : [-122.2708,37.8044] },\n                      "$maxDistance" : 2000\n                  }\n              }\n      }\n  }, function (e) {\n      if (e.success) {\n          Ti.API.info(JSON.stringify(e.geo_fences));\n      } else {\n          alert(\'Error:\\n\' +\n              ((e.error && e.message) || JSON.stringify(e)));\n      }\n  });\n')])]),e._v(" "),r("h3",{attrs:{id:"update-a-geo-fence-object"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#update-a-geo-fence-object","aria-hidden":"true"}},[e._v("#")]),e._v(" Update a geo-fence object")]),e._v(" "),r("p",[e._v("This example updates a geo-fence object and checks the response.")]),e._v(" "),r("pre",[r("code",[e._v('Cloud.GeoFences.update({\n    id: geoFenceId,\n    geo_fence:{"loc":{"place_id":"531a1217447d300f05003b69","radius":"2/6371"}}\n}, function (e) {\n    if (e.success) {\n        Ti.API.info(JSON.stringify(e.geo_fences));\n    } else {\n        alert(\'Error:\\n\' +\n            ((e.error && e.message) || JSON.stringify(e)));\n    }\n});\n')])]),e._v(" "),r("h3",{attrs:{id:"delete-a-geo-fence-object"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#delete-a-geo-fence-object","aria-hidden":"true"}},[e._v("#")]),e._v(" Delete a geo-fence object")]),e._v(" "),r("p",[e._v("This example deletes a geo-fence object and checks the response.")]),e._v(" "),r("pre",[r("code",[e._v("Cloud.GeoFences.remove({\n    id: geoFenceId\n}, function (e) {\n    if (e.success) {\n        Ti.API.info(JSON.stringify(e));\n    } else {\n        alert('Error:\\n' +\n            ((e.error && e.message) || JSON.stringify(e)));\n    }\n});\n")])]),e._v(" "),r("ApiDocs")],1)},[],!1,null,null,null);t.options.__file="geofences.md";n.default=t.exports}}]);