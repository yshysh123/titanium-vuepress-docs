(window.webpackJsonp=window.webpackJsonp||[]).push([[346],{504:function(t,n,e){"use strict";e.r(n);var i=e(14),a=Object(i.a)({},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"titanium-ui-ios-applicationshortcuts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#titanium-ui-ios-applicationshortcuts","aria-hidden":"true"}},[t._v("#")]),t._v(" Titanium.UI.iOS.ApplicationShortcuts")]),t._v(" "),e("ProxySummary"),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[t._v("3D Touch gives iOS 9 users an additional interaction dimension. On supported devices, people can quickly choose\napp-specific actions from the Home screen by pressing on the app icon. The pressing of an application shortcut\nwill then fire the "),e("code",[t._v("shortcutitemclick")]),t._v(" "),e("type-link",{attrs:{type:"Titanium.App.iOS"}},[t._v("Titanium.App.iOS")]),t._v(" event.")],1),t._v(" "),e("p",[t._v("There are static and dynamic shortcuts to differentiate:")]),t._v(" "),e("ul",[e("li",[t._v("Static: Can be set in the "),e("code",[t._v("<ios>")]),t._v(" section of the "),e("code",[t._v("tiapp.xml")]),t._v(" before launching the app.")]),t._v(" "),e("li",[t._v("Dynamic: Can be set in the app to offer a dynamic behavior at runtime.")])]),t._v(" "),e("p",[t._v("Here is an example how to create static application shortcuts in the "),e("code",[t._v("tiapp.xml")]),t._v(":")]),t._v(" "),e("pre",[e("code",[t._v("<ti:app>\n  ...\n  <ios>\n    <plist>  \n      <dict>\n        <key>UIApplicationShortcutItems</key>\n        <array>\n          <dict>\n            <key>UIApplicationShortcutItemIconType</key>\n            <string>UIApplicationShortcutIconTypeSearch</string>\n            <key>UIApplicationShortcutItemTitle</key>\n            <string>My title</string>\n            <key>UIApplicationShortcutItemSubtitle</key>\n            <string>My subtitle</string>\n            <key>UIApplicationShortcutItemType</key>\n            <string>my_identifier</string>\n            <key>UIApplicationShortcutItemUserInfo</key>\n            <dict/>\n          </dict>\n        </array>\n      </dict>  \n    </plist>  \n  </ios>\n  ...\n</ti:app>\n")])]),t._v(" "),e("p",[t._v("Static shortcuts can be translated in the "),e("code",[t._v("i18n/<language>/app.xml")]),t._v(" file. Dynamic shortcuts can be translated by using the\nmethods described "),e("a",{attrs:{href:"https://wiki.appcelerator.org/display/guides2/Internationalization",target:"_blank",rel:"noopener noreferrer"}},[t._v("in the Wiki"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("To use this feature make sure you have a 3D Touch compatible device running iOS 9 or later. To\ncheck for the feature, use the "),e("type-link",{attrs:{type:"Titanium.UI.iOS.forceTouchSupported"}},[t._v("Titanium.UI.iOS.forceTouchSupported")]),t._v(" property.\nYou cannot test 3D touch on the iOS simulator.")],1),t._v(" "),e("h2",{attrs:{id:"examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("h3",{attrs:{id:"full-example-get-shortcuts-add-shortcuts-remove-shortcuts-check-shortcuts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#full-example-get-shortcuts-add-shortcuts-remove-shortcuts-check-shortcuts","aria-hidden":"true"}},[t._v("#")]),t._v(" Full example (get shortcuts, add shortcuts, remove shortcuts, check shortcuts).")]),t._v(" "),e("p",[t._v('Ti.App.iOS.addEventListener("shortcutitemclick", function(e){\nTi.API.info("shortcutitemclick Event Fired");\nTi.API.info("event payload:" + JSON.stringify(e));\n});')]),t._v(" "),e("p",[t._v("var win = Titanium.UI.createWindow({\ntitle:'Test', backgroundColor:'#fff', layout:\"vertical\"\n});")]),t._v(" "),e("p",[t._v('var btn1 = Ti.UI.createButton({\ntop: 50, height:45, title:"Add Contact Us Application Shortcut"\n});\nwin.add(btn1);')]),t._v(" "),e("p",[t._v('btn1.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nappShortcuts.addDynamicShortcut({\nitemtype:"contact_us",\ntitle:"Contact Us",\nsubtitle:"Tap to reach us",\nicon: Ti.UI.iOS.SHORTCUT_ICON_TYPE_ADD,\nuserInfo:{\ninfoKey:"contact_us"\n}\n});\n});')]),t._v(" "),e("p",[t._v('var btn2 = Ti.UI.createButton({\ntop: 10, height:45, title:"Remove Contact Us Application Shortcut"\n});\nwin.add(btn2);')]),t._v(" "),e("p",[t._v('btn2.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nappShortcuts.removeDynamicShortcut("contact_us");\n});')]),t._v(" "),e("p",[t._v('var btn3 = Ti.UI.createButton({\ntop: 10, height:45, title:"Count Dynamic App Shortcuts"\n});\nwin.add(btn3);')]),t._v(" "),e("p",[t._v('btn3.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nvar shortcuts = appShortcuts.listDynamicShortcuts();\nTi.API.info("Dynamic App Shortcut count:" + shortcuts.length);\nTi.API.info("Dynamic App Shortcut as JSON:" + JSON.stringify(shortcuts));\n});')]),t._v(" "),e("p",[t._v('var btn4 = Ti.UI.createButton({\ntop: 10, height:45, title:"Count Static App Shortcuts"\n});\nwin.add(btn4);')]),t._v(" "),e("p",[t._v('btn4.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nvar shortcuts = appShortcuts.listStaticShortcuts();\nTi.API.info("Static App Shortcut count:" + shortcuts.length);\nTi.API.info("Static App Shortcut as JSON:" + JSON.stringify(shortcuts));\n});')]),t._v(" "),e("p",[t._v('var btn5 = Ti.UI.createButton({\ntop: 10, height:45, title:"Dynamic Shortcut Exists?"\n});\nwin.add(btn5);')]),t._v(" "),e("p",[t._v('btn5.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nvar exists = appShortcuts.dynamicShortcutExists("contact_us");\nvar msg = (exists) ? "Icon exists" : "Sorry isn\'t there";\nalert(msg);\n});')]),t._v(" "),e("p",[t._v('var btn6 = Ti.UI.createButton({\ntop: 10, height:45, title:"Remove All Dynamic Shortcuts"\n});\nwin.add(btn6);')]),t._v(" "),e("p",[t._v('btn6.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nappShortcuts.removeAllDynamicShortcuts();\n});')]),t._v(" "),e("p",[t._v('var btn7 = Ti.UI.createButton({\ntop: 10, height:45, title:"Get shortcut by itemtype "contact_us""\n});\nwin.add(btn7);')]),t._v(" "),e("p",[t._v('btn7.addEventListener("click",function(){\nvar appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\nvar shortcut = appShortcuts.getDynamicShortcut("contact_us");\nalert(shortcut);\n});')]),t._v(" "),e("p",[t._v("win.open();")]),t._v(" "),e("h3",{attrs:{id:"add-a-titanium-contact-person-as-icon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add-a-titanium-contact-person-as-icon","aria-hidden":"true"}},[t._v("#")]),t._v(" Add a Titanium.Contact.Person as icon.")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("pre",[e("code",[t._v('Ti.App.iOS.addEventListener("shortcutitemclick", function(e){\n    Ti.API.info("shortcutitemclick Event Fired");\n    Ti.API.info("person:" + JSON.stringify(e.userInfo.person));\n});\n\nvar win = Titanium.UI.createWindow({\n    title:\'Test\', backgroundColor:\'#fff\', layout:"vertical"\n});\n\nvar btn1 = Ti.UI.createButton({\n    top: 50, height:45, title:"Add Ti.Contacts Application Shortcut"\n});\nwin.add(btn1);\n\nbtn1.addEventListener("click", function() {\n    if(!Ti.Contacts.hasContactsPermissions()) {\n        Ti.Contacts.requestContactsPermissions(function(e) {\n            if(e.success) {\n                createShortcut();\n            }\n        })\n    } else {\n        createShortcut();\n    }\n});\n\nvar btn2 = Ti.UI.createButton({\n    top: 10, height:45, title:"Remove Ti.Contacts Application Shortcut"\n});\nwin.add(btn2);\n\nbtn2.addEventListener("click", function(){\n    var appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\n    appShortcuts.removeDynamicShortcut("contact_us");\n});\n\nfunction createShortcut() {\n    Ti.Contacts.showContacts({\n        selectedPerson: function(e) {\n            var person = e.person;\n\n            var appShortcuts = Ti.UI.iOS.createApplicationShortcuts();\n            appShortcuts.addDynamicShortcut({\n                itemtype:"contact_us",\n                title: person.fullName,\n                subtitle: "Tap to call",\n                icon: person,\n                userInfo: {\n                    person: {\n                        firstName: person.firstName,\n                        lastName: person.lastName\n                    }\n                }\n            });\n        }\n    });\n}\n\nwin.open();\n')])]),t._v(" "),e("ApiDocs")],1)},[],!1,null,null,null);a.options.__file="applicationshortcuts.md";n.default=a.exports}}]);