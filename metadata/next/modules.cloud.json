{"name":"Modules.Cloud","summary":"<p>The top level Cloud module for making calls to ArrowDB and Arrow Push.</p>\n","deprecated":null,"events":[],"methods":[{"name":"createX509CertificatePinningSecurityManager","deprecated":null,"summary":"<p>creates a security manager to authenticate specified HTTPS URLs.</p>\n","description":"<p class=\"note\">This feature requires a Team or Enterprise subscription!</p> \n<p class=\"note\">This feature requires the https module!</p> \nAuthenticates a set of HTTPS servers by pinning an HTTPS server's URL to its\npublic key contained in the certificate. \nThe security manager will guarantee that all `HTTPClient` connections to this URL\nare to a server that holds the private key corresponding to the public key embedded in the\ncertificate, therefore authenticating the server and preventing man-in-the-middle attacks.\nBy default, the base URL for each call in [Modules.Cloud](/titanium-vuepress-docs/api/modules/cloud.html) is the public URL (**api.cloud.appcelerator.com**).\nSo to use this feature by default, you will need to get api.cloud.appcelerator.der by simply executing these \n2 commands:\n<pre><code>echo -n | openssl s_client -connect api.cloud.appcelerator.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; api.cloud.appcelerator.com.crt\nopenssl x509 -in api.cloud.appcelerator.com.crt -outform der -out api.cloud.appcelerator.com.der\n</code></pre>\n<p>For virtual private cloud (VPC) deployments, you can specify a different URL.\nAfter generating the X509 certifcate file in der format, you have to place it in the Resources folder in your titanium project.\nBefore making any Cloud request, it is important to create security manager first, as shown:</p>\n<pre><code>Cloud.createX509CertificatePinningSecurityManager([\n    {\n        url: &quot;https://api.cloud.appcelerator.com&quot;,\n        serverCertificate: &quot;api.cloud.appcelerator.com.der&quot;\n    }\n]);\n</code></pre>\n","filename":"Modules.Cloud.createX509CertificatePinningSecurityManager-method","platforms":[{"pretty_name":"Android","since":"4.1.0","name":"android"},{"pretty_name":"iPhone","since":"4.1.0","name":"iphone"},{"pretty_name":"iPad","since":"4.1.0","name":"ipad"}],"inherits":null,"examples":[],"parameters":[{"name":"params","deprecated":null,"summary":"Server URLs with the corresponding certificate to authenticate, specified as an\narray of dictionaries that must contain the following keys:\n\n  * `url`: HTTPS URL pinned to the public key in the server certificate\n  * `serverCertificate`: X.509 certificate file in DER binary format\n","description":null,"type":"Array<Dictionary>","optional":false,"filename":"Modules.Cloud.createX509CertificatePinningSecurityManager-method.params-param"}],"returns":{"type":"SecurityManagerProtocol"}},{"name":"hasStoredSession","deprecated":{"notes":"<p>See <a href=\"/titanium-vuepress-docs/api/modules/cloud.html#accesstoken\">accessToken</a> and <a href=\"/titanium-vuepress-docs/api/modules/cloud.html#sessionid\">sessionId</a> for details on persisting session data.</p>\n","since":"2.1.2"},"summary":"<p>Checks if there is a stored user session.</p>\n","description":"<p>True is returned after successfully calling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#create\">create</a> or\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#login\">login</a>, and false after successfully calling\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#logout\">logout</a>.</p>\n","filename":"Modules.Cloud.hasStoredSession-method","platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"inherits":null,"examples":[],"parameters":[],"returns":{"type":"Boolean"}},{"name":"retrieveStoredSession","deprecated":{"notes":"<p>See <a href=\"/titanium-vuepress-docs/api/modules/cloud.html#accesstoken\">accessToken</a> and <a href=\"/titanium-vuepress-docs/api/modules/cloud.html#sessionid\">sessionId</a> for details on persisting session data.</p>\n","since":"2.1.2"},"summary":"<p>Returns the stored user session identifier.</p>\n","description":"<p>A value is returned after successfully calling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#create\">create</a> or\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#login\">login</a>, and null after successfully calling\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#logout\">logout</a>.</p>\n<p>All calls made using the Cloud module automatically use this value and, thus, it only needs\nto be used when manually making calls to the ArrowDB servers using <a href=\"/titanium-vuepress-docs/api/titanium/network/httpclient.html\">Titanium.Network.HTTPClient</a>.</p>\n","filename":"Modules.Cloud.retrieveStoredSession-method","platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"inherits":null,"examples":[],"parameters":[],"returns":{"type":"String"}},{"name":"sendRequest","deprecated":null,"summary":"<p>Makes a REST API call to the ArrowDB server.</p>\n","description":"<p>This method lets you easily call ArrowDB REST APIs directly. You provide the REST API endpoint\nrelative to the ArrowDB base API URL (<a href=\"https://docs.appcelerator.com/arrowdb/latest/#!/api/Users-method-login\">users/login.json</a>\nfor example), the appropriate HTTP method type (<code>GET</code>, <code>POST</code>, or <code>DELETE</code>), and the data\nto send with the request.</p>\n<p>As with the built-in Cloud methods, like <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#login\">login</a>,\nthe method's <code>callback</code> function parameter is passed a <a href=\"/titanium-vuepress-docs/api/structs/cloudresponse.html\">CloudResponse</a> object that contains meta-data\nabout the request, and the actual response payload. If the REST method call completed successfully,\n<a href=\"/titanium-vuepress-docs/api/structs/cloudresponse.html#success\">success</a> is <code>true</code>, or <code>false</code> if the call failed. If <a href=\"/titanium-vuepress-docs/api/structs/cloudresponse.html#error\">error</a> is <code>true</code>,\n<a href=\"/titanium-vuepress-docs/api/structs/cloudresponse.html#message\">message</a> will contain a string that describes the error.</p>\n<p>If the method call completed successfully, the <code>CloudResponse</code> object contains an additonal object\nfor the actual response payload. The name and type of this object depends on the REST\nendpoint that was invoked. The <a href=\"https://docs.appcelerator.com/arrowdb/latest/#!/api\">ArrowDB and Push API documentation</a>\nspecifies the return type for each REST endpoint. For example, the <a href=\"https://docs.appcelerator.com/arrowdb/latest/#!/api/Users-method-login\">users/login.json</a>\nendpoint returns a single element array named <code>users</code> that contains the <a href=\"https://docs.appcelerator.com/arrowdb/latest/#!/api/Users\">Users</a>\nobject for the logged-in user.</p>\n<p>For example:</p>\n<pre><code>Cloud.sendRequest({\n    url : &quot;users/login.json&quot;,\n    method : &quot;POST&quot;,\n    data : {\n        login : 'test@mycompany.com',\n        password : 'test_password'\n    }\n}, function(e) {// The callback called when the request completes\n    if (e.success) {\n        var user = e.users[0];\n        alert('Success:\\n' + \n            'id: ' + user.id + '\\n' + \n            'sessionId: ' + Cloud.sessionId + '\\n' + \n            'first name: ' + user.first_name + '\\n' + \n            'last name: ' + user.last_name);\n    } else {\n        alert('Error:\\n' + ((e.error &amp;&amp; e.message) || JSON.stringify(e)));\n    }\n});\n</code></pre>\n<p>By default, the base URL for each REST call is the public URL (<strong>api.cloud.appcelerator.com/v1</strong>).\nFor virtual private cloud (VPC) deployments, you can specify a different URL by modifying\nthe <code>acs-base-url</code> property of your project's tiapp.xml file (see <strong>tiapp.xml Properties</strong> above).</p>\n","filename":"Modules.Cloud.sendRequest-method","platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"inherits":null,"examples":[],"parameters":[{"name":"parameters","deprecated":null,"summary":"A Dictionary containing the parameters to send with the request. It must contain the following\nkey-value pairs:\n\n* **url** -- A string specifying the last fragment of the request URL.\n* **method** -- A string specifying the HTTP method to use: \"GET\", \"POST\", \"PUT\", or \"DELETE\".\n* **data** -- A Dictionary containing name-value pairs to send in the request.\n","description":null,"type":"Dictionary","optional":false,"filename":"Modules.Cloud.sendRequest-method.parameters-param"},{"name":"callback","deprecated":null,"summary":"Callback function to execute when a response is received.","description":null,"type":"Callback<CloudResponse>","optional":false,"filename":"Modules.Cloud.sendRequest-method.callback-param"}],"returns":{"type":"void"}}],"extends":"Titanium.Module","properties":[{"name":"sendRequest","deprecated":null,"summary":"<p>Identifies the current access token when using 3-Legged OAuth</p>\n","description":"<p>Contains the access token after successfully calling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#securecreate\">secureCreate</a> or\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#securelogin\">secureLogin</a>, and null after successfully calling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#logout\">logout</a>.</p>\n<p>All calls made using the Cloud module automatically use this value and, thus, it only needs\nto be used when manually making calls to the ArrowDB servers using <a href=\"/titanium-vuepress-docs/api/titanium/network/httpclient.html\">Titanium.Network.HTTPClient</a>.</p>\n<p>The <code>accessToken</code> is not persisted across application sessions by the module. An application\ncan persist the accessToken by saving the value in secure storage and restoring the value\nof this property in the next application session.</p>\n<p>The <code>accessToken</code> is not used with 2-legged OAuth or API key\nauthentication; use <a href=\"/titanium-vuepress-docs/api/modules/cloud.html#sessionid\">sessionId</a> instead.</p>\n","filename":"Modules.Cloud.accessToken-property","platforms":[{"pretty_name":"Android","since":"2.1.2","name":"android"},{"pretty_name":"iPhone","since":"2.1.2","name":"iphone"},{"pretty_name":"iPad","since":"2.1.2","name":"ipad"}],"inherits":null,"examples":[],"type":"String"},{"name":"debug","deprecated":null,"summary":"<p>Indicates whether internal debug logging should be output to the console.</p>\n","description":null,"filename":"Modules.Cloud.debug-property","platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"inherits":null,"examples":[],"type":"Boolean"},{"name":"expiresIn","deprecated":null,"summary":"<p>Indicates the number of seconds before the access token expires</p>\n","description":"<p>Contains the number of seconds until the access token expires after successfully calling\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#securecreate\">secureCreate</a> or <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#securelogin\">secureLogin</a>, and null after successfully\ncalling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#logout\">logout</a>.</p>\n","filename":"Modules.Cloud.expiresIn-property","platforms":[{"pretty_name":"Android","since":"2.1.2","name":"android"},{"pretty_name":"iPhone","since":"2.1.2","name":"iphone"},{"pretty_name":"iPad","since":"2.1.2","name":"ipad"}],"inherits":null,"examples":[],"type":"Number","permission":"read-only"},{"name":"ondatastream","deprecated":null,"summary":"<p>Function to be called at regular intervals as the request data is being received.</p>\n","description":"<p>Set this property before calling any ArrowDB method for which you want to track the transmission.</p>\n<p>When you are done tracking the transmission, set this to null.</p>\n","filename":"Modules.Cloud.ondatastream-property","platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"inherits":null,"examples":[],"type":"Callback<CloudStreamProgress>"},{"name":"onsendstream","deprecated":null,"summary":"<p>Function to be called at regular intervals as the request data is being transmitted.</p>\n","description":"<p>Set this property before calling any ArrowDB method for which you want to track the transmission.</p>\n<p>When you are done tracking the transmission, set this to null.</p>\n","filename":"Modules.Cloud.onsendstream-property","platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"inherits":null,"examples":[],"type":"Callback<CloudStreamProgress>"},{"name":"sessionId","deprecated":null,"summary":"<p>Identifies the current session</p>\n","description":"<p>Contains the session identifier after successfully calling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#create\">create</a> or\n<a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#login\">login</a>, and null after successfully calling <a href=\"/titanium-vuepress-docs/api/modules/cloud/users.html#logout\">logout</a>.</p>\n<p>All calls made using the Cloud module automatically use this value and, thus, it only needs\nto be used when manually making calls to the ArrowDB servers using <a href=\"/titanium-vuepress-docs/api/titanium/network/httpclient.html\">Titanium.Network.HTTPClient</a>.</p>\n<p>The session identifier is not persisted across application sessions by the module. An application\ncan persist the session identifier by saving the value in secure storage and restoring the value\nof this property in the next application session.</p>\n<p>The <code>sessionId</code> is not used with 3-legged OAuth authentication; use\n<a href=\"/titanium-vuepress-docs/api/modules/cloud.html#accesstoken\">accessToken</a> instead.</p>\n","filename":"Modules.Cloud.sessionId-property","platforms":[{"pretty_name":"Android","since":"2.1.2","name":"android"},{"pretty_name":"iPhone","since":"2.1.2","name":"iphone"},{"pretty_name":"iPad","since":"2.1.2","name":"ipad"}],"inherits":null,"examples":[],"type":"String"}],"platforms":[{"pretty_name":"Android","since":"2.0","name":"android"},{"pretty_name":"iPhone","since":"2.0","name":"iphone"},{"pretty_name":"iPad","since":"2.0","name":"ipad"}],"filename":null,"type":"module","subtype":null,"constants":[]}